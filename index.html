<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Accueil - Voie Spirituelle</title>
  <meta name="description" content="Psychothérapie et guidance spirituelle pour retrouver paix, sérénité et lumière intérieure.">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Header -->
  <header>
    <h1>Chemin vers la Lumière</h1>

    <!-- Bouton burger -->
    <button class="burger" aria-label="Menu">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <!-- Navigation -->
  <nav>
          <div class="lang-switch">
  <a href="index.html" title="Version française">
    <img src="images/fr.png" alt="Français" width="20" height="14"> FR
  </a>
  |
  <a href="index_it.html" title="Versione italiana">
    <img src="images/it.png" alt="Italiano" width="20" height="14"> IT
  </a>
</div>
    <a href="index.html">Accueil</a>
    <a href="about.html">À propos</a>
    <a href="contact.html">Contact</a>
    <a href="services.html" class="btn">Services 💫</a>
    <a href="blog.html" class="btn" style="margin-left:15px;">Articles 📖</a>
    <a href="podcasts.html" class="btn">Podcasts 🎧</a>
  </nav>
  <!-- ✅ Garde seulement ceci -->

  <div class="overlay"></div>

  </header>


  <!-- Contenu principal -->
  <main>
    <!-- Section d'accueil -->
    <section aria-labelledby="intro">
      <img src="https://images.unsplash.com/photo-1509042239860-f550ce710b93?auto=format&fit=crop&w=1200&q=80" 
           alt="Bougies spirituelles" 
           loading="lazy">
      <h2 id="intro">Bienvenue à toutes et à tous 🌿</h2>
        <p>
          Je vous accueille dans cet espace virtuel en espérant que vous puissiez le sentir comme un lieu sûr et chaleureux.  
          Idéalement, j’aimerais que ce site devienne le conteneur d’idées et d’impulsions qui captent l’instinct du lecteur et le transportent dans un 
          <em>« monde possible »</em>, un espace de changement.
        </p>

        <p>
          Je me présente à vous avec le rôle que j’aimerais jouer — oui, <span class="bold-on-scroll">jouer</span>, un mot que vous entendrez et lirez souvent ici, prononcé de manière sérieuse et digne.  
          Je voudrais parler d’un <span class="bold-on-scroll">jeu sérieux et fluide</span> on, à votre part sage, celle qui habite chacun de nous et sait, 
          qui connaît par l’expérience des vies vécues dans l’âme.
        </p>

        <p>
          Cette partie qui va déjà bien, qui est en paix avec son destin et qui tend vers le flux naturel de son existence.  
          Une partie qui connaît la Vie, car elle en est issue, et qui est capable de relancer tous ces moments où elle semble s’être enlisée 
          dans des dynamiques stériles, immobiles, marécageuses.
        </p>

        <p>
          Mon rôle, tel que je l’interprète moi-même — en tant que personne avant tout et seulement ensuite à travers les compétences que je mets en jeu dans mon travail — 
          est précisément de vouloir préparer le chemin à cette <span class="bold-on-scroll">partie sage</span> ; me mettre en contact avec elle, lui donner le courage de sortir.  
          Sortir du masque, sortir de l’habitude, sortir de la tristesse que la vie porte, pour pouvoir prononcer la Parole et peu à peu 
          construire un espace de dialogue avec vous dans un espace sûr, protégé, chaleureux…
        </p>

        <p>
          Voici donc mon vœu pour vous, tout comme des pèlerins sur le <em>Camino de Santiago de Compostela</em> — que j’ai eu la chance d’emprunter avec une grande âme amie — :  
          que vous puissiez faire un <span class="bold-on-scroll">Bon chemin</span>.  
          Pas un chemin parfait, pas un chemin facile.
        </p>

      <a href="services.html" class="btn">Explorer l’accompagnement</a>
    </section>

    <!-- Témoignages -->
    <section aria-labelledby="temoignages">
      <img src="https://images.unsplash.com/photo-1471440671318-55bdbb772f93?auto=format&fit=crop&w=1200&q=80" 
           alt="Rayons de lumière divine" 
           loading="lazy">
      <h2 id="temoignages">Témoignages</h2>
      <blockquote>
        <p>“Un accompagnement qui m’a permis de retrouver ma foi intérieure.” - Asilo nido Montessori</p>
      </blockquote>
      <blockquote>
        <p>“Une expérience spirituelle et thérapeutique profonde, éclairée par une lumière bienveillante.” - Association Psichealòs</p>
      </blockquote>
    </section>
  </main>

    <!-- Bouton flottant -->
  <a href="services.html" class="btn floating" id="floating-services">Services 💫</a>
  <a href="blog.html" class="btn floating" id="floating-blog">Articles 📖</a>
  <a href="podcasts.html" class="btn floating" id="floating-podcasts">Podcasts 🎧</a>

  <!-- 🌿 Vidéo de présentation flottante -->
  <div class="video-floating">
    <div class="video-wrapper">
      <video id="introVideo" src="videos/Pres.mp4" playsinline preload="auto"></video>


      <!-- ✅ Icône /pause -->
      <div class="video-play-icon" id="videoPlayIcon">
        <svg id="playSymbol" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <polygon points="8,5 19,12 8,19" fill="currentColor"/>
        </svg>
        <svg id="pauseSymbol" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="display:none;">
          <rect x="6" y="5" width="4" height="14" fill="currentColor"/>
          <rect x="14" y="5" width="4" height="14" fill="currentColor"/>
        </svg>
      </div>


      <!-- ✅ Barre de progression -->
      <div class="video-progress">
        <div class="video-progress-bar" id="videoProgressBar"></div>
        <div class="video-progress-handle" id="videoProgressHandle"></div>
      </div>

      <!-- ✅ Boutons flottants -->
      <div class="video-overlay-buttons" id="videoButtons">
        <a href="#" class="btn next-video" data-src="videos/Pres1.mp4">🌿 Voir la suite</a>
        <a href="services.html" class="btn">✨ Explorer</a>
      </div>
    </div>
  </div>

  <!-- ✅ Boutons pour la seconde vidéo -->
    <div class="video-overlay-buttons second-video-buttons" id="secondVideoButtons">
      <a href="blog.html" class="btn">🌿 Lire</a>
      <a href="about.html" class="btn">💫 À propos</a>
      <a href="contact.html" class="btn">📬 Me contacter</a>
    </div>


  <!-- ✅ Voile arrière -->
  <div class="video-backdrop"></div>

  <script>
    const burger = document.querySelector('.burger');
    const nav = document.querySelector('nav');
    const overlay = document.querySelector('.overlay');

    burger.addEventListener('click', () => {
      burger.classList.toggle('active');
      nav.classList.toggle('active');
      overlay.classList.toggle('active'); // active/désactive overlay
    });

    // Fermer le menu si on clique sur l’overlay
    overlay.addEventListener('click', () => {
      burger.classList.remove('active');
      nav.classList.remove('active');
      overlay.classList.remove('active');
    });
  </script>

  <script>
    window.addEventListener("scroll", function() {
      const header = document.querySelector("header");
      if (window.scrollY > 80) {
        header.classList.add("shrink");
      } else {
        header.classList.remove("shrink");
      }
    });
  </script>

  <script>
    window.addEventListener("scroll", () => {
      const scrollTop = window.scrollY;
      const windowHeight = window.innerHeight;
      const bodyHeight = document.body.offsetHeight;

      // Si on est tout en bas (ou presque)
      if (scrollTop + windowHeight >= bodyHeight - 20) {
        document.querySelectorAll('.bold-on-scroll').forEach(el => el.classList.add('active'));
      }
    });
  </script>

  <script>
    /* ============================================================
      🔊 Autoriser le son après première interaction
      ------------------------------------------------------------ */
    let userInteracted = false;
    document.addEventListener("click", () => {
      userInteracted = true;
      const vid = document.querySelector("#introVideo");
      if (vid) {
        vid.muted = false;
        vid.volume = 1;
      }
    }, { once: true });

    /* ============================================================
      🎬 Initialisation
      ------------------------------------------------------------ */
    const videoContainer   = document.querySelector(".video-floating");
    const videoElement     = document.querySelector("#introVideo");
    const videoSource      = videoElement.querySelector("source");
    const overlayButtons   = document.getElementById("videoButtons");
    const backdrop         = document.querySelector(".video-backdrop");
    const playIcon         = document.getElementById("videoPlayIcon");
    const playSymbol       = document.getElementById("playSymbol");
    const pauseSymbol      = document.getElementById("pauseSymbol");
    const progressBar      = document.getElementById("videoProgressBar");
    const progressHandle   = document.getElementById("videoProgressHandle");
    const progressContainer= document.querySelector(".video-progress");

    let isPlaying   = false;
    let videoClicked= false;

    /* ▶️ icône play au chargement */
    window.addEventListener("load", () => {
      playSymbol.style.display = "block";
      pauseSymbol.style.display = "none";
      playIcon.classList.add("visible");
    });

    /* 🎬 Lecture / pause + gestion du flou */
    videoElement.addEventListener("click", e => {
      e.preventDefault(); e.stopPropagation();
      if (videoElement.paused) {
        if (userInteracted) { videoElement.muted = false; videoElement.volume = 1; }
        videoElement.play();
        videoContainer.classList.add("expanded","video-visible");
        backdrop.classList.add("active");
        toggleIcons(true);
        playIcon.classList.remove("visible");
        isPlaying = true;
      } else {
        videoElement.pause();
        videoContainer.classList.remove("expanded");
        backdrop.classList.remove("active");
        toggleIcons(false);
        playIcon.classList.add("visible");
        isPlaying = false;
      }
    });

    /* ✋ clic sur le fond sombre → réduire */
    backdrop.addEventListener("click", () => {
      videoElement.pause();
      videoContainer.classList.remove("expanded");
      backdrop.classList.remove("active");
      toggleIcons(false);
      playIcon.classList.add("visible");
      isPlaying = false;
    });

    function toggleIcons(on){
      playSymbol.style.display = on ? "none" : "block";
      pauseSymbol.style.display = on ? "block" : "none";
    }

    /* ⏳ Barre de progression */
    videoElement.addEventListener("timeupdate", () => {
      if (!videoElement.duration) return;
      const ratio = videoElement.currentTime / videoElement.duration;
      const p = ratio * 100;
      progressBar.style.width = `${p}%`;
      progressHandle.style.left = `${p}%`;

      if (videoElement.currentTime >= 28)
        overlayButtons.classList.add("visible");

      updateSecondOverlayVisibility();
    });

    /* 🎚️ Barre de progression améliorée — style YouTube */
      let isDragging = false;

      function updateProgressBar() {
        if (!videoElement.duration || isDragging) return; // 🔒 on bloque pendant le drag
        const ratio = videoElement.currentTime / videoElement.duration;
        const p = ratio * 100;
        progressBar.style.width = `${p}%`;
        progressHandle.style.left = `${p}%`;
      }

      videoElement.addEventListener("timeupdate", updateProgressBar);

      /* 🖱️ Gestion du clic et du glisser sur la barre */
      progressContainer.addEventListener("mousedown", e => {
        isDragging = true;
        seekToPosition(e);
      });

      document.addEventListener("mousemove", e => {
        if (isDragging) seekToPosition(e);
      });

      document.addEventListener("mouseup", e => {
        if (isDragging) {
          isDragging = false;
          seekToPosition(e);
        }
      });

      /* 📱 Support tactile */
      progressContainer.addEventListener("touchstart", e => {
        isDragging = true;
        seekToPosition(e.touches[0]);
      });

      document.addEventListener("touchmove", e => {
        if (isDragging) seekToPosition(e.touches[0]);
      });

      document.addEventListener("touchend", e => {
        if (isDragging) {
          isDragging = false;
          seekToPosition(e.changedTouches[0]);
        }
      });

    /* 🔍 Fonction de calcul commune */
    function seekToPosition(evt) {
      const rect = progressContainer.getBoundingClientRect();
      const x = Math.min(Math.max(evt.clientX - rect.left, 0), rect.width);
      const ratio = x / rect.width;
      videoElement.currentTime = ratio * videoElement.duration;

      // 💫 maj visuelle immédiate
      const p = ratio * 100;
      progressBar.style.width = `${p}%`;
      progressHandle.style.left = `${p}%`;
    }




    /* 💫 Déplacement des boutons flottants (mobile) */
    videoElement.addEventListener("play", () => {
      if (window.innerWidth <= 768) document.body.classList.add("floating-shift");
    });
    videoElement.addEventListener("pause", () => {
      if (window.innerWidth <= 768) document.body.classList.remove("floating-shift");
    });
    window.addEventListener("load", () => setTimeout(() => document.body.classList.add("floating-ready"), 300));

    /* 🌿 Apparition / disparition selon scroll */
    let videoShown = false;
    window.addEventListener("scroll", () => {
      const y = window.scrollY;
      const max = document.documentElement.scrollHeight - window.innerHeight;
      const percent = (y / max) * 100;
      if (percent > 60 && !videoShown) {
        videoContainer.classList.add("video-visible");
        videoShown = true;
      } else if (percent < 50 && videoShown && !isPlaying && !videoClicked) {
        videoContainer.classList.remove("video-visible");
        videoShown = false;
      }
    });

    /* ============================================================
      🌿 6. Vidéo suivante + boutons internes à 22 s
      ------------------------------------------------------------ */
    const nextVideoButtons = document.querySelectorAll(".next-video");
    const SHOW_AT_SEC = 22;
    let secondButtonsEl = null;
    let secondOverlayVisible = false;

    /* Crée le bloc de boutons de la 2e vidéo dans .video-wrapper */
    function ensureSecondButtons() {
      if (!secondButtonsEl) {
        secondButtonsEl = document.createElement("div");
        secondButtonsEl.id = "secondVideoButtons";
        secondButtonsEl.className = "video-overlay-buttons";
        secondButtonsEl.innerHTML = `
          <a href="blog.html" class="btn">📖 Lire</a>
          <a href="about.html" class="btn">👤 À propos</a>
          <a href="contact.html" class="btn">💬 Me contacter</a>
        `;
        document.querySelector(".video-wrapper").appendChild(secondButtonsEl);
      }
    }

    /* Gère l’apparition des boutons à 22 s (2e vidéo) */
    function updateSecondOverlayVisibility() {
      const isSecond = videoElement.currentSrc && videoElement.currentSrc.includes("Pres1.mp4");
      if (!isSecond) {
        if (secondButtonsEl) secondButtonsEl.classList.remove("visible");
        secondOverlayVisible = false;
        return;
      }
      if (!videoElement.duration) return;
      if (videoElement.currentTime >= SHOW_AT_SEC) {
        if (!secondOverlayVisible) {
          secondButtonsEl.classList.add("visible");
          secondOverlayVisible = true;
        }
      } else if (secondOverlayVisible) {
        secondButtonsEl.classList.remove("visible");
        secondOverlayVisible = false;
      }
    }

    /* Clic “Voir la suite” → charger la 2e vidéo */
    nextVideoButtons.forEach(btn => {
      btn.addEventListener("click", e => {
        e.preventDefault();

        const newSrc = btn.dataset.src;
        if (!newSrc) return;

        // Effet visuel de transition (si tu l’utilises)
        videoElement.classList.add("fade-out");

        setTimeout(async () => {
          try {
            // 1️⃣ Prépare avant le changement
            videoElement.pause();
            videoElement.autoplay = true;
            videoElement.setAttribute("playsinline", "");
            videoElement.setAttribute("webkit-playsinline", "");

            // 2️⃣ Change la source
            videoElement.src = newSrc;

            // 3️⃣ Recharge la vidéo
            await new Promise(resolve => {
              const onMeta = () => {
                videoElement.removeEventListener("loadedmetadata", onMeta);
                resolve();
              };
              videoElement.addEventListener("loadedmetadata", onMeta);
              if (videoElement.readyState >= 1) resolve();
            });

            // 4️⃣ Force l’audio avant lecture
            if (userInteracted) {
              videoElement.muted = false;
              videoElement.volume = 1.0;
            }

            // 5️⃣ Lance la lecture
            const playPromise = videoElement.play();
            if (playPromise) {
              await playPromise.catch(err => {
                console.warn("Lecture bloquée, tentative de reprise:", err);
                videoElement.muted = false;
                videoElement.volume = 1.0;
                return videoElement.play();
              });
            }

            // 🔊 6️⃣ Reforcer le son après lecture (c’est la clé sur Chrome)
            setTimeout(() => {
              videoElement.muted = false;
              videoElement.volume = 1.0;
            }, 500);

            // 7️⃣ MEP visuelle
            ensureSecondButtons();
            overlayButtons.classList.remove("visible");
            playSymbol.style.display = "none";
            pauseSymbol.style.display = "block";
            videoContainer.classList.add("expanded", "video-visible");
            backdrop.classList.add("active");

          } finally {
            videoElement.classList.remove("fade-out");
            videoElement.classList.add("fade-in");
            setTimeout(() => videoElement.classList.remove("fade-in"), 600);
          }
        }, 300);

      });
    });



    /* ============================================================
      🌿 Scroll : disparition quand non en lecture
      ------------------------------------------------------------ */
    window.addEventListener("scroll", () => {
      const y = window.scrollY;
      const max = document.documentElement.scrollHeight - window.innerHeight;
      const percent = (y / max) * 100;
      if (percent > 60 && !videoContainer.classList.contains("video-visible")) {
        videoContainer.classList.add("video-visible");
      } else if (percent < 50 && !isPlaying) {
        videoContainer.classList.remove("video-visible","expanded");
        backdrop.classList.remove("active");
      }
    });
</script>









  <!-- Footer -->
<footer>
  © 2025 Maria Cristina Bussani — Tous droits réservés  

  <!-- Icônes réseaux sociaux -->
  <div class="social-links">
    <a href="https://www.facebook.com/profile.php?id=61558747770364" target="_blank" class="social-icon facebook" aria-label="Facebook">
      <!-- Icône Facebook -->
      <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" viewBox="0 0 24 24">
        <path d="M22 12a10 10 0 1 0-11.5 9.9v-7h-2v-3h2v-2.3c0-2 1.2-3.2 3-3.2.9 0 1.8.2 1.8.2v2h-1c-1 0-1.3.6-1.3 1.2V12h2.3l-.4 3h-1.9v7A10 10 0 0 0 22 12z"/>
      </svg>
    </a>

    <a href="https://www.instagram.com/ta-page" target="_blank" class="social-icon instagram" aria-label="Instagram">
      <!-- Icône Instagram -->
      <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" viewBox="0 0 24 24">
        <path d="M7 2C4.2 2 2 4.2 2 7v10c0 2.8 2.2 5 5 5h10c2.8 0 5-2.2 5-5V7c0-2.8-2.2-5-5-5H7zm10 2c1.7 0 3 1.3 3 3v10c0 1.7-1.3 3-3 3H7c-1.7 0-3-1.3-3-3V7c0-1.7 1.3-3 3-3h10zm-5 3a5 5 0 100 10 5 5 0 000-10zm0 2a3 3 0 110 6 3 3 0 010-6zm4.5-.9a1.1 1.1 0 100 2.2 1.1 1.1 0 000-2.2z"/>
      </svg>
    </a>

    <a href="https://www.youtube.com/ta-page" target="_blank" class="social-icon youtube" aria-label="YouTube">
      <!-- Icône YouTube -->
      <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" viewBox="0 0 24 24">
        <path d="M10 15l5.2-3L10 9v6zm12-3c0-2.5-.2-4.2-.5-5-.3-.8-.8-1.3-1.6-1.6C18.2 5 12 5 12 5s-6.2 0-7.9.4c-.8.3-1.3.8-1.6 1.6C2.2 7.8 2 9.5 2 12s.2 4.2.5 5c.3.8.8 1.3 1.6 1.6C5.8 19 12 19 12 19s6.2 0 7.9-.4c.8-.3 1.3-.8 1.6-1.6.3-.8.5-2.5.5-5z"/>
      </svg>
    </a>
  </div>
</footer>

</body>
</html>
